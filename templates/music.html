<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>音乐</title>
    <link rel="shortcut icon" href="{{ url_for('static', filename='img/mushroom.png') }}" type="image/x-icon">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/bootstrap.min.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/bootstrap-slider.min.css') }}">
    <link rel="stylesheet" href="https://at.alicdn.com/t/font_2393058_5l3ht3zyf6t.css">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/main.css') }}">
    <script src="{{ url_for('static', filename='js/jquery.min.js') }}"></script>
    <script src="{{ url_for('static', filename='js/popper.min.js') }}"></script>
    <script src="{{ url_for('static', filename='js/bootstrap.min.js') }}"></script>
    <script src="{{ url_for('static', filename='js/bootstrap-slider.min.js') }}"></script>
    <script src="{{ url_for('static', filename='js/jquery.nicescroll.min.js') }}"></script>
    <script src="{{ url_for('static', filename='js/jquery.tabslet.min.js') }}"></script>
    <script src="{{ url_for('static', filename='js/music.js') }}"></script>
</head>
<body>
<div class="d-flex flex-column" style="position: fixed; top: 0; right: 0; left: 0; bottom: 0;">
    <div class="d-flex flex-grow-1" style="overflow: hidden;">
        <div class="flex-grow-1" style="height: 100%;">
            <div id="search_list" style="height: 100%;">
                <div class="d-flex flex-column" style="height: 100%;">
                    <div style="background-color: #242424; border-bottom: 1px solid #131313;">
                        <div class="top-nav_group-1">
                            <div class="d-flex">
                                <div class="align-self-center" style="margin: 5px 10px;">
                                    <i class="iconfont icon-home" onclick="window.open('/')"></i></div>
                                <div class="align-self-center" style="margin: 5px 10px;">
                                    <i class="iconfont icon-music" style="color: #28a745;"></i></div>
                                <div class="align-self-center" style="margin: 5px 10px;">
                                    <i class="iconfont icon-poetry" onclick="window.open('/poetry')"></i></div>
                                <div class="align-self-center" style="margin: 5px 10px;">
                                    <i class="iconfont icon-image" onclick="window.open('/image')"></i></div>
                                <div class="align-self-center" style="margin: 5px 10px;">
                                    <i class="iconfont icon-video" onclick="window.open('/video')"></i></div>
                                <div class="align-self-center ml-auto" style="margin: 5px 10px;">
                                    <i id="song-search" class="iconfont icon-search"></i></div>
                            </div>
                        </div>
                        <div class="top-nav_group-2" style="display: none;">
                            <div class="d-flex">
                                <div class="align-self-center" style="margin: 5px 10px;">
                                    <i class="iconfont icon-search" style="color: #989898;"></i></div>
                                <input id="s_song_name" type="text" class="border-0"
                                       style="width: 100%;" autocomplete="off" placeholder="歌曲搜索" />
                                <div class="align-self-center" style="margin: 5px 10px;">
                                    <i id="song-search-cancel" class="iconfont icon-cancel" style="font-size: 20px;"></i></div>
                            </div>
                        </div>
                    </div>
                    <div class="flex-grow-1" style="overflow: hidden;">
                        <div class='s_song_tabs d-flex flex-column' style="height: 100%;">
                            <ul class="d-flex">
                                <div class="align-self-center" style="padding: 0px 10px;">
                                    <i class="iconfont icon-backward"></i>
                                    <i class="iconfont icon-forward"></i>
                                </div>
                                {% for result in results %}
                                <li class=""><a target="#{{ result.alias }}">{{ result.platform }}</a></li>
                                {% endfor %}
                            </ul>
                            {% for result in results %}
                            <div id='{{ result.alias }}' class="flex-grow-1">
                                <div class="default_content">
                                    {% for top in result.top_list %}
                                    <div style="padding: 6px 10px;">{{ top.title }}</div>
                                    <div class="d-flex flex-wrap">
                                        {% for li in top.list %}
                                        <div class="top-box">
                                            <img src="{{ li.src }}" title="{{ li.title }}" top-id="{{ li.top_id }}" song-platform="{{ result.alias }}">
                                        </div>
                                        {% endfor %}
                                    </div>
                                    {% endfor %}
                                </div>
                                <div class="search_content" style="display: none;"></div>
                            </div>
                            {% endfor %}
                        </div>
                    </div>
                </div>
            </div>
            <div id="page-lyric" style="height: 100%; padding: 30px 0px;">
                <div class="d-flex justify-content-center" style="height: 100%;">
                    <img id="song-album-pic" src="" width="250" height="250" style="margin-top: 6px;">
                    <div class="d-flex flex-column" style="height: 100%; min-width: 500px;">
                        <div class="song-name text-center" style="font-size: 24px; color: #e8e8e8;"></div>
                        <div class="song-singer text-center" style="color: #9b9b9b;"></div>
                        <div id="lyric_result" class="flex-grow-1" style="font-size: 14px;"></div>
                    </div>
                </div>
            </div>
        </div>
        <div class="playlist-box" style="height: 100%;">
            <div class="d-flex flex-column" style="height: 100%;">
                <div class="d-flex justify-content-between" style="padding: 0px 10px; height: 30px;">
                    <div class="align-self-center">播放列表
                        <span style="color: #9b9b9b;">（<span id="playlist-count">0</span>）</span>
                    </div>
                    <div class="align-self-center"><i class="iconfont icon-del" title="清空列表"></i></div>
                </div>
                <div id="playlist-tab" class="flex-grow-1">
                    <table class="song_table" style="color: #9b9b9b;">
                        <tbody></tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
    <div id="bottom-bar" style="background-color: #242424; position: relative; padding: 0px 15px;">
        <audio id="audio" src=""></audio>
        <div id="cur_title_line" style="line-height: 30px;">
            <div class="d-flex justify-content-center">
                <div class="song-name" style="color: #e8e8e8"></div>
                <div class="song-singer ml-2" style="color: #9b9b9b;"></div>
            </div>
        </div>
        <div class="d-flex" style="line-height: 3px;">
            <div id="song-currentTime" class="mr-2" style="color: #a1a1a1; font-size: 12px;">00:00</div>
            <div class="flex-grow-1 align-self-center">
                <input id="song-progress-input" data-slider-id='song-progress'/>
            </div>
            <div id="song-duration" class="ml-2" style="color: #797979; font-size: 12px;">00:00</div>
            <div class="ml-2 align-self-center" style="font-size: 12px; position: relative; display: none;">
                <i id="volume" class="iconfont icon-volume-1"></i>
                <div class="volume-box">
                    <div id="vol-val">50</div>
                    <input id="volume-progress-input" data-slider-id="volume-progress"/>
                </div>
            </div>
        </div>
        <div class="d-flex justify-content-center">
            <div class="align-self-center">
                <i id="play-rule" class="iconfont icon-list-loop" title="列表循环"></i>
            </div>
            <div class="ml-4 align-self-center">
                <i class="iconfont icon-prev"></i>
            </div>
            <div class="ml-4 align-self-center">
                <i id="play-pause" class="iconfont icon-play"></i>
            </div>
            <div class="ml-4 align-self-center">
                <i class="iconfont icon-next"></i>
            </div>
            <div class="ml-4 align-self-center">
                <i id="lyric" class="iconfont icon-lyric"></i>
            </div>
            <div class="ml-4 align-self-center">
                <i id="playlist" class="iconfont icon-playlist"></i>
            </div>
        </div>
    </div>
</div>
</body>
<script>
  function initFingerprintJS() {
    FingerprintJS.load().then(fp => {
      fp.get().then(result => {
        $('body').append('<input id="visitor_id" type="hidden" value="' + result.visitorId + '" />');
      });
    });
  }
</script>
<script src="{{ url_for('static', filename='js/fp.min.js') }}" onload="initFingerprintJS()"></script>
</html>